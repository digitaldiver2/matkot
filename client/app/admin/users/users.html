<div class="container">
	<div class="alert alert-danger" ng-show="errmsg !=''">
		{{errmsg}}
	</div>
	<div class="row">
		<label class="col-md-2">Zoeken</label>
		<div class="col-md-2">
			<input type="text" ng-model="$ctrl.search">
		</div>
	</div>
	<div class="row">
		<div class="col-md-12">
			<hr>
		</div>
	</div>
	<div class="row" id="UserTable">
		<div class="col-md-12">
			<h3>Gebruikers</h3>
			<table class="table table-striped table-hover">
				<thead>
					<tr>
						<th>
							<a href="#" ng-click="userSortType = 'name'; userSortReverse = !userSortReverse">
								Naam
								<span ng-show="userSortType == 'name' && !userSortReverse" class="fa fa-caret-down"></span>
								<span ng-show="userSortType == 'name' && userSortReverse" class="fa fa-caret-up"></span>
							</a>
						</th>
						<th>
							<a href="#" ng-click="userSortType = 'phone'; userSortReverse = !userSortReverse">
								Telefoon
								<span ng-show="userSortType == 'phone' && !userSortReverse" class="fa fa-caret-down"></span>
								<span ng-show="userSortType == 'phone' && userSortReverse" class="fa fa-caret-up"></span>
							</a>
						</th>
						<th>
							<a href="#" ng-click="userSortType = 'email'; userSortReverse = !userSortReverse">
								Email
								<span ng-show="userSortType == 'email' && !userSortReverse" class="fa fa-caret-down"></span>
								<span ng-show="userSortType == 'email' && userSortReverse" class="fa fa-caret-up"></span>
							</a>
						</th>
						<th>
							<a href="#" ng-click="userSortType = 'requested_groups.length'; userSortReverse = !userSortReverse">
								Vereniging verzoek
								<span ng-show="userSortType == 'requested_groups.length' && !userSortReverse" class="fa fa-caret-down"></span>
								<span ng-show="userSortType == 'requested_groups.length' && userSortReverse" class="fa fa-caret-up"></span>
							</a>
						</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-class="{'list-group-item-danger': user.requested_groups && user.requested_groups.length > 0}" 
						ng-repeat="user in $ctrl.users | filter:$ctrl.search | orderBy:userSortType:userSortReverse"
						ng-click="$ctrl.userService.openUser(user)">
						<td>{{user.name}}</td>
						<td>{{user.phone}}</td>
						<td>{{user.email}}</td>
						<td>{{user.requested_groups.length}}</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
	<div class="row">
		<div class="col-md-4">
			<button class="btn btn-default" ng-click="$ctrl.new_user()">Add user</button>
		</div>
	</div>

	<div class="row" id="GroupTable">
		<div class="col-md-12">
			<h3>Verenigingen</h3>
			<table class="table table-striped table-hover">
				<thead>
					<tr>
						<th>
							<a href="#" ng-click="groupSortType = 'name'; groupSortReverse = !groupSortReverse">
								Naam
								<span ng-show="groupSortType == 'name' && !groupSortReverse" class="fa fa-caret-down"></span>
								<span ng-show="groupSortType == 'name' && groupSortReverse" class="fa fa-caret-up"></span>
							</a>
						</th>
						<th>
							<a href="#" ng-click="groupSortType = 'pricecategory.name'; groupSortReverse = !groupSortReverse">
								Categorie
								<span ng-show="groupSortType == 'pricecategory.name' && !groupSortReverse" class="fa fa-caret-down"></span>
								<span ng-show="groupSortType == 'pricecategory.name' && groupSortReverse" class="fa fa-caret-up"></span>
							</a>
						</th>
						<th>
							<a href="#" ng-click="groupSortType = 'info'; groupSortReverse = !groupSortReverse">
								Info
								<span ng-show="groupSortType == 'info' && !groupSortReverse" class="fa fa-caret-down"></span>
								<span ng-show="groupSortType == 'info' && groupSortReverse" class="fa fa-caret-up"></span>
							</a>
						</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-show="$ctrl.groups" ng-repeat="group in $ctrl.groups | filter:$ctrl.search | orderBy: groupSortType: groupSortReverse" ng-click="$ctrl.userService.openGroup(group)">
						<td>{{group.name}}</td>
						<td>{{group.pricecategory.name}}</td>
						<td>{{group.info}}</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
	<div class="row">
		<div class="col-md-4">
			<button class="btn btn-primary" ng-click="$ctrl.new_group()">Add group</button>
		</div>
	</div>
</div>